<section>
    <div class="mx-auto max-w-6xl px-4">
        <p
            class="geist-mono mb-3 block text-sm font-semibold tracking-widest text-[#252726] uppercase">
            People
        </p>
        <h2
            class="font-lighter mt-2 mb-4 max-w-2xl text-4xl text-[var(--guide-me-lime)] md:text-6xl">
            How people respond to the Salmon?
        </h2>
    </div>
    <div class="overflow-hidden py-16">
        <div
            class="flex snap-x snap-mandatory gap-8 overflow-x-auto overscroll-x-contain scroll-smooth px-(--scroll-padding) [--scroll-padding:max(--spacing(6),calc((100vw-(var(--container-2xl)))/2))] [scrollbar-width:none] lg:[--scroll-padding:max(--spacing(8),calc((100vw-(var(--container-7xl)))/2))] [&::-webkit-scrollbar]:hidden">
            <div
                style="opacity: 0.65;"
                class="relative flex aspect-9/16 w-72 shrink-0 snap-start scroll-ml-(--scroll-padding) flex-col justify-end overflow-hidden rounded-3xl transition-opacity duration-500 ease-in-out sm:aspect-3/4 sm:w-96">
                <img
                    alt=""
                    src="<?php echo get_template_directory_uri() . "/assets/img/people1.jpg" ?>"
                    class="absolute inset-x-0 top-0 aspect-square w-full object-cover" />
                <div
                    aria-hidden="true"
                    class="absolute inset-0 rounded-3xl bg-linear-to-t from-black from-[calc(7/16*100%)] ring-1 ring-gray-950/10 ring-inset sm:from-25%">
                </div>
                <figure class="relative p-10">
                    <blockquote>
                        <p class="relative text-xl/7 text-white">
                            <span aria-hidden="true" class="absolute -translate-x-full">“</span>Thanks to GuideMe, we’re finding new leads that we never would
                            have found with legal methods.<span
                                aria-hidden="true"
                                class="absolute">”</span>
                        </p>
                    </blockquote>
                    <figcaption class="mt-6 border-t border-white/20 pt-6">
                        <p class="text-sm/6 font-medium text-white">Tina Yards</p>
                        <p
                            class="text-sm/6 font-medium">
                            <span
                                class="bg-linear-to-r from-[#fff1be] from-28% via-[#9DCD00] via-70% to-[#9DCD00] bg-clip-text text-transparent">VP of Sales, Protocol</span>
                        </p>
                    </figcaption>
                </figure>
            </div>
            <div
                style="opacity: 0.65;"
                class="relative flex aspect-9/16 w-72 shrink-0 snap-start scroll-ml-(--scroll-padding) flex-col justify-end overflow-hidden rounded-3xl transition-opacity duration-500 ease-in-out sm:aspect-3/4 sm:w-96">
                <img
                    alt=""
                    src="<?php echo get_template_directory_uri() . "/assets/img/people2.jpg" ?>"
                    class="absolute inset-x-0 top-0 aspect-square w-full object-cover" />
                <div
                    aria-hidden="true"
                    class="absolute inset-0 rounded-3xl bg-linear-to-t from-black from-[calc(7/16*100%)] ring-1 ring-gray-950/10 ring-inset sm:from-25%">
                </div>
                <figure class="relative p-10">
                    <blockquote>
                        <p class="relative text-xl/7 text-white">
                            <span aria-hidden="true" class="absolute -translate-x-full">“</span>GuideMe made undercutting all of our competitors an absolute
                            breeze.<span aria-hidden="true" class="absolute">”</span>
                        </p>
                    </blockquote>
                    <figcaption class="mt-6 border-t border-white/20 pt-6">
                        <p class="text-sm/6 font-medium text-white">Conor Neville</p>
                        <p
                            class="text-sm/6 font-medium">
                            <span
                                class="bg-linear-to-r from-[#fff1be] from-28% via-[#9DCD00] via-70% to-[#9DCD00] bg-clip-text text-transparent">Head of Customer Success, TaxPal</span>
                        </p>
                    </figcaption>
                </figure>
            </div>
            <div
                style="opacity: 0.65;"
                class="relative flex aspect-9/16 w-72 shrink-0 snap-start scroll-ml-(--scroll-padding) flex-col justify-end overflow-hidden rounded-3xl transition-opacity duration-500 ease-in-out sm:aspect-3/4 sm:w-96">
                <img
                    alt=""
                    src="<?php echo get_template_directory_uri() . "/assets/img/people3.jpg" ?>"
                    class="absolute inset-x-0 top-0 aspect-square w-full object-cover" />
                <div
                    aria-hidden="true"
                    class="absolute inset-0 rounded-3xl bg-linear-to-t from-black from-[calc(7/16*100%)] ring-1 ring-gray-950/10 ring-inset sm:from-25%">
                </div>
                <figure class="relative p-10">
                    <blockquote>
                        <p class="relative text-xl/7 text-white">
                            <span aria-hidden="true" class="absolute -translate-x-full">“</span>We closed a deal in literally a few minutes because we knew their
                            exact budget.<span aria-hidden="true" class="absolute">”</span>
                        </p>
                    </blockquote>
                    <figcaption class="mt-6 border-t border-white/20 pt-6">
                        <p class="text-sm/6 font-medium text-white">Amy Chase</p>
                        <p
                            class="text-sm/6 font-medium">
                            <span
                                class="bg-linear-to-r from-[#fff1be] from-28% via-[#9DCD00] via-70% to-[#9DCD00] bg-clip-text text-transparent">Head of GTM, Pocket</span>
                        </p>
                    </figcaption>
                </figure>
            </div>
            <div
                style="opacity: 1;"
                class="relative flex aspect-9/16 w-72 shrink-0 snap-start scroll-ml-(--scroll-padding) flex-col justify-end overflow-hidden rounded-3xl transition-opacity duration-500 ease-in-out sm:aspect-3/4 sm:w-96">
                <img
                    alt=""
                    src="<?php echo get_template_directory_uri() . "/assets/img/people4.jpg" ?>"
                    class="absolute inset-x-0 top-0 aspect-square w-full object-cover" />
                <div
                    aria-hidden="true"
                    class="absolute inset-0 rounded-3xl bg-linear-to-t from-black from-[calc(7/16*100%)] ring-1 ring-gray-950/10 ring-inset sm:from-25%">
                </div>
                <figure class="relative p-10">
                    <blockquote>
                        <p class="relative text-xl/7 text-white">
                            <span aria-hidden="true" class="absolute -translate-x-full">“</span>We’ve managed to put two of our main competitors out of business
                            in 6 months.<span aria-hidden="true" class="absolute">”</span>
                        </p>
                    </blockquote>
                    <figcaption class="mt-6 border-t border-white/20 pt-6">
                        <p class="text-sm/6 font-medium text-white">Veronica Winton</p>
                        <p
                            class="text-sm/6 font-medium">
                            <span
                                class="bg-linear-to-r from-[#fff1be] from-28% via-[#9DCD00] via-70% to-[#9DCD00] bg-clip-text text-transparent">CSO, Planeteria</span>
                        </p>
                    </figcaption>
                </figure>
            </div>
            <div
                style="opacity: 1;"
                class="relative flex aspect-9/16 w-72 shrink-0 snap-start scroll-ml-(--scroll-padding) flex-col justify-end overflow-hidden rounded-3xl transition-opacity duration-500 ease-in-out sm:aspect-3/4 sm:w-96">
                <img
                    alt=""
                    src="<?php echo get_template_directory_uri() . "/assets/img/salomon-masthead.webp" ?>"
                    class="absolute inset-x-0 top-0 aspect-square w-full object-cover" />
                <div
                    aria-hidden="true"
                    class="absolute inset-0 rounded-3xl bg-linear-to-t from-black from-[calc(7/16*100%)] ring-1 ring-gray-950/10 ring-inset sm:from-25%">
                </div>
                <figure class="relative p-10">
                    <blockquote>
                        <p class="relative text-xl/7 text-white">
                            <span aria-hidden="true" class="absolute -translate-x-full">“</span>
                            I was able to close a $1M deal in 3 days, and I didn’t even have to
                            speak to the lead once.
                            <span aria-hidden="true" class="absolute">”</span>
                        </p>
                    </blockquote>
                    <figcaption class="mt-6 border-t border-white/20 pt-6">
                        <p class="text-sm/6 font-medium text-white">Dillon Lenora</p>
                        <p
                            class="text-sm/6 font-medium">
                            <span
                                class="bg-linear-to-r from-[#fff1be] from-28% via-[#9DCD00] via-70% to-[#9DCD00] bg-clip-text text-transparent">VP of Sales, Detax</span>
                        </p>
                    </figcaption>
                </figure>
            </div>
            <div
                style="opacity: 0.65;"
                class="relative flex aspect-9/16 w-72 shrink-0 snap-start scroll-ml-(--scroll-padding) flex-col justify-end overflow-hidden rounded-3xl transition-opacity duration-500 ease-in-out sm:aspect-3/4 sm:w-96">
                <img
                    alt="" 
                    src="<?php echo get_template_directory_uri() . "/assets/img/service-woman.webp" ?>"
                    class="absolute inset-x-0 top-0 aspect-square w-full object-cover" />
                <div
                    aria-hidden="true"
                    class="absolute inset-0 rounded-3xl bg-linear-to-t from-black from-[calc(7/16*100%)] ring-1 ring-gray-950/10 ring-inset sm:from-25%">
                </div>
                <figure class="relative p-10">
                    <blockquote>
                        <p class="relative text-xl/7 text-white">
                            <span aria-hidden="true" class="absolute -translate-x-full">“</span>I’ve smashed all my targets without having to speak to a lead in
                            months.<span aria-hidden="true" class="absolute">”</span>
                        </p>
                    </blockquote>
                    <figcaption class="mt-6 border-t border-white/20 pt-6">
                        <p class="text-sm/6 font-medium text-white">Harriet Arron</p>
                        <p
                            class="text-sm/6 font-medium">
                            <span
                                class="bg-linear-to-r from-[#fff1be] from-28% via-[#9DCD00] via-70% to-[#9DCD00] bg-clip-text text-transparent">Account Manager, Commit</span>
                        </p>
                    </figcaption>
                </figure>
            </div>
            <div class="w-2xl shrink-0 sm:w-216"></div>
        </div>
        <div class="mt-16 px-6 lg:px-8">
            <div class="mx-auto max-w-2xl lg:max-w-7xl">
                <div class="flex justify-between">
                    <div></div>
                    <div class="hidden sm:flex sm:gap-2">
                        <button
                            aria-label="Scroll to testimonial from Tina Yards"
                            class="size-2.5 rounded-full border border-transparent bg-gray-300 transition data-active:bg-gray-400 data-hover:bg-gray-400 forced-colors:data-active:bg-[Highlight] forced-colors:data-focus:outline-offset-4"
                            type="button"
                            data-headlessui-state=""></button><button
                            aria-label="Scroll to testimonial from Conor Neville"
                            class="size-2.5 rounded-full border border-transparent bg-gray-300 transition data-active:bg-gray-400 data-hover:bg-gray-400 forced-colors:data-active:bg-[Highlight] forced-colors:data-focus:outline-offset-4"
                            type="button"
                            data-headlessui-state=""></button><button
                            aria-label="Scroll to testimonial from Amy Chase"
                            class="size-2.5 rounded-full border border-transparent bg-gray-300 transition data-active:bg-gray-400 data-hover:bg-gray-400 forced-colors:data-active:bg-[Highlight] forced-colors:data-focus:outline-offset-4"
                            type="button"
                            data-headlessui-state=""></button><button
                            aria-label="Scroll to testimonial from Veronica Winton"
                            class="size-2.5 rounded-full border border-transparent bg-gray-300 transition data-active:bg-gray-400 data-hover:bg-gray-400 forced-colors:data-active:bg-[Highlight] forced-colors:data-focus:outline-offset-4"
                            type="button"
                            data-headlessui-state=""
                            data-active="true"></button><button
                            aria-label="Scroll to testimonial from Dillon Lenora"
                            class="size-2.5 rounded-full border border-transparent bg-gray-300 transition data-active:bg-gray-400 data-hover:bg-gray-400 forced-colors:data-active:bg-[Highlight] forced-colors:data-focus:outline-offset-4"
                            type="button"
                            data-headlessui-state=""></button><button
                            aria-label="Scroll to testimonial from Harriet Arron"
                            class="size-2.5 rounded-full border border-transparent bg-gray-300 transition data-active:bg-gray-400 data-hover:bg-gray-400 forced-colors:data-active:bg-[Highlight] forced-colors:data-focus:outline-offset-4"
                            type="button"
                            data-headlessui-state=""></button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const carouselContainer = document.querySelector(
                ".snap-x.overflow-x-auto"
            );
            const carouselItems = document.querySelectorAll(
                ".snap-x > .relative.flex"
            );
            const paginationDots = document.querySelectorAll(".sm\\:gap-2 > button");

            if (!carouselContainer || carouselItems.length === 0) {
                console.error("Carousel elements not found!");
                return;
            }

            let isDown = false;
            let startX;
            let scrollLeft;

            const startDragging = (e) => {
                isDown = true;
                carouselContainer.classList.add("is-dragging");
                startX =
                    (e.pageX || e.touches[0].pageX) -
                    (carouselContainer).offsetLeft;
                scrollLeft = carouselContainer.scrollLeft;
            };

            const stopDragging = () => {
                isDown = false;
                carouselContainer.classList.remove("is-dragging");
            };

            const whileDragging = (e) => {
                if (!isDown) return;
                e.preventDefault();
                const x =
                    (e.pageX || e.touches[0].pageX) -
                    (carouselContainer).offsetLeft;
                const walk = (x - startX) * 2;
                carouselContainer.scrollLeft = scrollLeft - walk;
            };

            carouselContainer.addEventListener("mousedown", startDragging);
            carouselContainer.addEventListener("mouseleave", stopDragging);
            carouselContainer.addEventListener("mouseup", stopDragging);
            carouselContainer.addEventListener("mousemove", whileDragging);
            carouselContainer.addEventListener("touchstart", startDragging, {
                passive: true,
            });
            carouselContainer.addEventListener("touchend", stopDragging);
            carouselContainer.addEventListener("touchmove", whileDragging);

            const updateActiveStates = () => {
                const tolerance = 1;
                const containerLeft = carouselContainer.scrollLeft;
                const containerRight = containerLeft + carouselContainer.clientWidth;

                let primaryActiveIndex = -1;
                let minDistance = Infinity;

                carouselItems.forEach((item, index) => {
                    const itemLeft = (item).offsetLeft;
                    const itemRight = itemLeft + (item).offsetWidth;

                    const isFullyVisible =
                        itemLeft >= containerLeft - tolerance &&
                        itemRight <= containerRight + tolerance;

                    (item).style.opacity = isFullyVisible ? "1" : "0.65";
                    const distance = Math.abs(itemLeft - containerLeft);
                    if (distance < minDistance) {
                        minDistance = distance;
                        primaryActiveIndex = index;
                    }
                });

                if (primaryActiveIndex !== -1 && paginationDots.length > 0) {
                    paginationDots.forEach((dot, index) => {
                        if (index === primaryActiveIndex) {
                            dot.setAttribute("data-active", "true");
                        } else {
                            dot.removeAttribute("data-active");
                        }
                    });
                }
            };

            carouselContainer.addEventListener("scroll", updateActiveStates);
            updateActiveStates();
        });
    </script>

    <style>
        .is-dragging {
            cursor: grabbing;
            scroll-behavior: auto;
            scroll-snap-type: none;
        }

        .snap-x.overflow-x-auto {
            cursor: grab;
            scroll-snap-type: x mandatory;
            scroll-behavior: smooth;
        }
    </style>
</section>